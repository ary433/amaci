<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>MACI Key Manager</title>
    <link rel="stylesheet" href="styles/popup.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="lib/ethers.js"></script>
</head>
<body>
    <div id="app" class="app">
        <header>
            <div class="logo-container">
                <img src="assets/icons/icon.svg" alt="MACI Key Manager" class="logo">
                <h1>MACI Key Manager</h1>
            </div>
            <button id="themeToggle" class="theme-toggle">
                <span class="material-icons">dark_mode</span>
            </button>
        </header>

        <div id="loginScreen" class="screen">
            <h2>Welcome to MACI Key Manager</h2>
            <form id="loginForm" class="form-group">
                <input type="password" id="password" placeholder="Enter Password" class="input" required>
                <button type="submit" class="button primary">Unlock</button>
            </form>
        </div>

        <div id="mainScreen" class="screen hidden">
            <nav class="tabs">
                <button class="tab active" data-tab="keys">
                    <span class="material-icons">vpn_key</span> Keys
                </button>
                <button class="tab" data-tab="sign">
                    <span class="material-icons">edit</span> Sign
                </button>
                <button class="tab" data-tab="history">
                    <span class="material-icons">history</span> History
                </button>
                <button class="tab" data-tab="settings">
                    <span class="material-icons">settings</span> Settings
                </button>
            </nav>

            <div id="keysPanel" class="panel">
                <div class="action-bar">
                    <button id="generateKey" class="button primary">
                        <span class="material-icons">add</span> Generate New Key
                    </button>
                    <button id="importKey" class="button secondary">
                        <span class="material-icons">upload</span> Import Key
                    </button>
                </div>
                <div id="keysList" class="keys-list"></div>
            </div>

            <div id="signPanel" class="panel hidden">
                <div class="form-group">
                    <select id="selectedKey" class="input">
                        <option value="">Select Key</option>
                    </select>
                    <textarea id="messageToSign" class="input" placeholder="Enter message to sign"></textarea>
                    <button id="signMessage" class="button primary">
                        <span class="material-icons">edit</span> Sign Message
                    </button>
                </div>
                <div id="signatureResult" class="result-box hidden"></div>
            </div>

            <div id="historyPanel" class="panel hidden">
                <div id="transactionsList" class="transactions-list"></div>
            </div>

            <div id="settingsPanel" class="panel hidden">
                <div class="settings-group">
                    <h3>Security</h3>
                    <button id="changePassword" class="button secondary">
                        <span class="material-icons">lock</span> Change Password
                    </button>
                    <button id="backupKeys" class="button secondary">
                        <span class="material-icons">backup</span> Backup Keys
                    </button>
                </div>
                <div class="settings-group">
                    <h3>Network</h3>
                    <select id="network" class="input">
                        <option value="mainnet">Mainnet</option>
                        <option value="testnet">Testnet</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <script src="js/popup.js"></script>
</body>
</html>
